"use strict";(self.webpackChunkminima_docs=self.webpackChunkminima_docs||[]).push([[56],{3515:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>d});var s=r(5893),i=r(1151);const a={sidebar_position:3},o="Exporting to MySQL",t={id:"userguides/managingarchive/mysqlarchive",title:"Exporting to MySQL",description:"It is possible to export your node's archive blocks to an external MySQL database for storage.",source:"@site/docs/userguides/managingarchive/mysqlarchive.md",sourceDirName:"userguides/managingarchive",slug:"/userguides/managingarchive/mysqlarchive",permalink:"/docs/userguides/managingarchive/mysqlarchive",draft:!1,unlisted:!1,editUrl:"https://github.com/minima-global/minidocs/docs/userguides/managingarchive/mysqlarchive.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Archive file exports",permalink:"/docs/userguides/managingarchive/archiveexports"},next:{title:"At a Glance",permalink:"/docs/learn/ataglance"}},c={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Minima - MySQL setup",id:"minima---mysql-setup",level:2},{value:"Update MySQL",id:"update-mysql",level:2},{value:"Check the integrity",id:"check-the-integrity",level:2},{value:"Export to an archive file",id:"export-to-an-archive-file",level:2},{value:".dat file export",id:"dat-file-export",level:3},{value:".gzip file export",id:"gzip-file-export",level:3},{value:"Resync from MySQL",id:"resync-from-mysql",level:2},{value:"To perform a chain re-sync",id:"to-perform-a-chain-re-sync",level:3},{value:"To perform a seed re-sync",id:"to-perform-a-seed-re-sync",level:3},{value:"Check an address history",id:"check-an-address-history",level:2},{value:"Create a coins table",id:"create-a-coins-table",level:2},{value:"Query the coins table",id:"query-the-coins-table",level:2},{value:"Export the tables from MySQL",id:"export-the-tables-from-mysql",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...e.components},{Details:a}=n;return a||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"exporting-to-mysql",children:"Exporting to MySQL"}),"\n",(0,s.jsx)(n.p,{children:"It is possible to export your node's archive blocks to an external MySQL database for storage."}),"\n",(0,s.jsx)(n.p,{children:"Using a MySQL database to hold a backup of your archive data means you can:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"update the MySQL db with the archive blocks from your node"}),"\n",(0,s.jsx)(n.li,{children:"chain or seed re-sync directly from the MySQL database for any Minima node (if made publicly available);"}),"\n",(0,s.jsx)(n.li,{children:"export the archive blocks from MySQL to a .dat or .gzip file to be shared for re-syncing purposes;"}),"\n",(0,s.jsx)(n.li,{children:"execute SQL queries on all coins since the Genesis block (NEW for v 1.0.39);"}),"\n",(0,s.jsx)(n.li,{children:"export the tables from MySQL to a SQL file;"}),"\n",(0,s.jsx)(n.li,{children:"import the SQL file to another MySQL database"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This setup uses two Docker containers"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"a Minima archive node"}),"\n",(0,s.jsx)(n.li,{children:"a MySQL database to hold the archive blocks and coins"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The archive database in MySQL will contain 3 tables:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"cascadedata - if your archive node does not start at the genesis block, there may be cascade data"}),"\n",(0,s.jsx)(n.li,{children:"syncblocks - the archive blocks"}),"\n",(0,s.jsx)(n.li,{children:"coins (NEW v1.0.39) - a coins table of all coins in the archive blocks"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"An existing archive node running in Docker"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"minima---mysql-setup",children:"Minima - MySQL setup"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Install MySQL Workbench from the ",(0,s.jsx)(n.a,{href:"https://dev.mysql.com/downloads/workbench/",children:"official website"}),", selecting the Operating System relevant to you"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Open your Terminal/Command Line interface"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Setup a Docker network, this will allow you to connect your node to your MySQL database that we will create in the next step"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"docker network create -d bridge minimanetwork\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Now you should see ",(0,s.jsx)(n.strong,{children:"minimanetwork"})," listed if you run"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"docker network ls\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"Start a MySQL database as a Docker container"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"You will need to set your own values for the following parameters:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"MYSQL_ROOT_PASSWORD : create a root password"}),"\n",(0,s.jsx)(n.li,{children:"MYSQL_DATABASE : create a name for the archive database"}),"\n",(0,s.jsx)(n.li,{children:"MYSQL_USER : create a user for the archive database"}),"\n",(0,s.jsx)(n.li,{children:"MYSQL_PASSWORD : create a password for the MYSQL_USER"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"docker run -d -p 3307:3306  -e MYSQL_ROOT_PASSWORD=yourrootpassword -e MYSQL_DATABASE=archivedb -e MYSQL_USER=archiveuser -e MYSQL_PASSWORD=youruserpassword --restart unless-stopped --network=minimanetwork --label=com.centurylinklabs.watchtower.enable=false --name minimysql mysql:8.0\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This will create a Docker container called ",(0,s.jsx)(n.strong,{children:"minimySQL"})," which runs your MySQL database called ",(0,s.jsx)(n.strong,{children:"archivedb"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["It will run on your port 3307 (mapped to 3306 in Docker); create the user specified and give them access to the database; connect the MySQL db to the ",(0,s.jsx)(n.strong,{children:"minimanetwork"})," Docker network; and disable Watchtower updates for the container."]}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsxs)(n.li,{children:["Connect your Minima archive node container to the ",(0,s.jsx)(n.strong,{children:"minimanetwork"})," Docker network"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"docker network connect minimanetwork minimaarchive\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You should now see your ",(0,s.jsx)(n.strong,{children:"minimysql"})," and ",(0,s.jsx)(n.strong,{children:"minimaarchive"})," containers in the same network if you run:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"docker network inspect minimanetwork\n"})}),"\n",(0,s.jsx)(n.p,{children:"Output:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'docker network inspect minimanetwork\r\n[\r\n    {\r\n        "Name": "minimanetwork",\r\n...\r\n        },\r\n        "ConfigOnly": false,\r\n        "Containers": {\r\n            "182c4041ad365669b365ee6e0691e5488596ab1e974b791bba1306c74643bd03": {\r\n                "Name": "minimadev",\r\n...""\r\n            },\r\n            "38906df591a5ba642e755509e8c162e114b6dd56abc2ec2e76a0c673f5187b09": {\r\n                "Name": "minimysql",\r\n...\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"6",children:["\n",(0,s.jsx)(n.li,{children:"Open MySQL Workbench and create a new connection with the following parameters"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Connection name:"})," minimaarchive",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.strong,{children:"Hostname:"})," 127.0.0.1 (or your public IP if running on a server)",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.strong,{children:"Port:"})," 3307",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.strong,{children:"Username:"})," root",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.strong,{children:"Password:"})," Click on \u201cStore in Vault\u201d and enter the root password you used in step 4 above. ",(0,s.jsx)("br",{})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"sql",src:r(8066).Z+"",width:"1919",height:"565"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"sql",src:r(2304).Z+"",width:"983",height:"616"})}),"\n",(0,s.jsxs)(n.ol,{start:"7",children:["\n",(0,s.jsx)(n.li,{children:"Click Test Connection, then OK."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This will setup a connection to the MySQL database running in Docker."}),"\n",(0,s.jsx)(n.h2,{id:"update-mysql",children:"Update MySQL"}),"\n",(0,s.jsx)(n.p,{children:"To update the MySQL tables with the archive blocks from your node:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Open Minima Docker CLI or Minima Terminal MiniDapp"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Optional - run the command ",(0,s.jsx)(n.code,{children:"mysql action:info"})," with your login details to check the current status"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"mysql action:info host:minimysql database:archivedb user:archiveuser password:youruserpassword\n"})}),"\n",(0,s.jsxs)(a,{children:[(0,s.jsx)("summary",{children:" Example output "}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'{\r\n  "command":"mysql",\r\n  "params":{\r\n    "host":"minimysql",\r\n    "database":"archivedb",\r\n    "user":"archiveuser",\r\n    "password":"youruserpassword",\r\n    "action":"info"\r\n  },\r\n  "status":true,\r\n  "pending":false,\r\n  "response":{\r\n    "archive":{\r\n      "archivestart":1,\r\n      "archiveend":72106,\r\n      "archivetotal":72105\r\n    },\r\n    "mysql":{\r\n      "mysqlstart":-1,\r\n      "mysqlend":-1,\r\n      "mysqltotal":0\r\n    }\r\n  }\r\n}\n'})}),(0,s.jsx)(n.p,{children:"In the above example, the Minima archive db contains 72105 blocks and the mysql has 0 blocks, as expected."})]}),"\n",(0,s.jsx)(n.admonition,{title:"before updating",type:"important",children:(0,s.jsxs)(n.p,{children:["Before running an update, you must check your node is on the correct tip block. Run the ",(0,s.jsx)(n.code,{children:"status"})," command to check your tip block is up to date."]})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"Update the MySQL database with the Minima archive data and wait for it to finish"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"mysql action:update host:minimysql database:archivedb user:archiveuser password:youruserpassword\n"})}),"\n",(0,s.jsxs)(a,{children:[(0,s.jsx)("summary",{children:" Example output "}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'{\r\n  "command":"mysql",\r\n  "params":{\r\n    "host":"minimysql",\r\n    "database":"archivedb",\r\n    "user":"archiveuser",\r\n    "password":"youruserpassword",\r\n    "action":"update"\r\n  },\r\n  "status":true,\r\n  "pending":false,\r\n  "response":{\r\n    "archive":{\r\n      "archivestart":1,\r\n      "archiveend":72206,\r\n      "archivetotal":72205\r\n    },\r\n    "mysql":{\r\n      "mysqlstart":1,\r\n      "mysqlend":72206,\r\n      "mysqltotal":72205\r\n    }\r\n  }\r\n}\n'})})]}),"\n",(0,s.jsx)(n.p,{children:"Future updates will be incremental, only syncing the new blocks that are not already in the MySQL database."}),"\n",(0,s.jsx)(n.h2,{id:"check-the-integrity",children:"Check the integrity"}),"\n",(0,s.jsx)(n.p,{children:"To check that there are no missing blocks in the MySQL database, you can run:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"mysql action:integrity host:minimysql database:archivedb user:archiveuser password:youruserpassword\n"})}),"\n",(0,s.jsx)(n.h2,{id:"export-to-an-archive-file",children:"Export to an archive file"}),"\n",(0,s.jsx)(n.h3,{id:"dat-file-export",children:".dat file export"}),"\n",(0,s.jsxs)(n.p,{children:["From v1.0.39 onwards, a ",(0,s.jsx)(n.strong,{children:".raw.dat"})," export can be used by users to recover their node via the Security minidapp or with the ",(0,s.jsx)(n.a,{href:"/docs/userguides/usingyournode/terminal_commands",children:"reset"})," command. This is the recommended method."]}),"\n",(0,s.jsxs)(n.p,{children:["Optionally omit the ",(0,s.jsx)(n.code,{children:"file"})," parameter to use an autogenerated file name."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"mysql action:rawexport file:archiveexport.raw.dat host:minimysql database:archivedb user:archiveuser password:youruserpassword\n"})}),"\n",(0,s.jsx)(n.h3,{id:"gzip-file-export",children:".gzip file export"}),"\n",(0,s.jsxs)(n.p,{children:["This .gzip export can be used by users to archive reset their node via the Security minidapp or with the ",(0,s.jsx)(n.a,{href:"/docs/userguides/usingyournode/terminal_commands#backup",children:"reset"})," command."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"mysql  action:h2export file:archiveexport.gzip host:minimysql database:archivedb user:archiveuser password:youruserpassword\n"})}),"\n",(0,s.jsx)(n.h2,{id:"resync-from-mysql",children:"Resync from MySQL"}),"\n",(0,s.jsx)(n.p,{children:"If a user has been offline for too long and cannot resync to the chain from the IBD alone, or has lost access to their node, they can connect to a MySQL database to perform a chain or seed resync, provided it is publicly accessible."}),"\n",(0,s.jsx)(n.p,{children:"This is an alternative option to re-syncing from an archive node."}),"\n",(0,s.jsx)(n.p,{children:"As with archive nodes, there are two options when using a MySQL database to re-sync your a node:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Chain re-sync:"})," If a user has been offline for too long and their node is not on the correct tip block, they can re-sync to the latest block by performing a ",(0,s.jsx)(n.a,{href:"#to-perform-a-chain-re-sync",children:"chain re-sync"})," from a MySQL database. ",(0,s.jsx)(n.strong,{children:"The node will NOT be wiped during this process."})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Seed re-sync:"})," If a user does not have a valid backup or has lost access to their node, they can restore access to their coins by performing a ",(0,s.jsx)(n.a,{href:"#to-perform-a-seed-re-sync",children:"seed re-sync"})," from a MySQL database using their 24 word seed phrase. ",(0,s.jsx)(n.strong,{children:"The node will first be wiped before the re-sync begins."})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"read-only access",type:"important",children:(0,s.jsxs)(n.p,{children:["To re-sync using credentials for a read-only user,  set the ",(0,s.jsx)(n.code,{children:"user"})," and ",(0,s.jsx)(n.code,{children:"password"})," parameters as the credentials for the read-only user you have set up in MySQL, and add ",(0,s.jsx)(n.code,{children:"readonly:true"})," as a parameter in the following commands."]})}),"\n",(0,s.jsx)(n.h3,{id:"to-perform-a-chain-re-sync",children:"To perform a chain re-sync"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["On the node requiring a re-sync, check the connection to the MySQL database, changing the ip",":port"," as required"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"mysql host:127.0.0.1:3307 database:archivedb user:archiveuser password:youruserpassword action:info\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"To start the chain re-sync, run"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"mysql host:mysqlhost:port database:archivedb user:archiveuser password:youruserpassword action:resync\n"})}),"\n",(0,s.jsx)(n.p,{children:"Your coins will remain safe throughout this process. Once complete, you will be on the correct tip block."}),"\n",(0,s.jsx)(n.h3,{id:"to-perform-a-seed-re-sync",children:"To perform a seed re-sync"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"On the node requiring a re-sync, connect to check the MySQL archive database"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"mysql host:127.0.0.1:3307 database:archivedb user:archiveuser password:youruserpassword action:info\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"To start the seed re-sync, run"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'mysql host:mysqlhost:port database:archivedb user:archiveuser password:youruserpassword action:resync phrase:\\"24 WORDS HERE\\"\n'})}),"\n",(0,s.jsx)(n.p,{children:"Optionally set the number of keys and keyuses relevant to you. If not specified, the defaults are keys:80 and keyuses:1000"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'mysql host:mysqlhost:port database:archivedb user:archiveuser password:youruserpassword action:resync phrase:\\"24 WORDS HERE\\" keys:90 keyuses:2000\n'})}),"\n",(0,s.jsx)(n.h2,{id:"check-an-address-history",children:"Check an address history"}),"\n",(0,s.jsx)(n.p,{children:"To check the unspent and spent coins for an address, run"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"mysql host:127.0.0.1:3307 database:archivedb user:archiveuser password:youruserpassword action:addresscheck address:0x79...\n"})}),"\n",(0,s.jsx)(n.h2,{id:"create-a-coins-table",children:"Create a coins table"}),"\n",(0,s.jsxs)(n.p,{children:["To create a table in your MySQL archive database for all spent and unspent coins, you can use the ",(0,s.jsx)(n.code,{children:"mysqlcoins"})," command."]}),"\n",(0,s.jsx)(n.p,{children:"The coins table will be populated from the syncblock table, so this must be populated first. You can then run any SQL command against it to query the coins."}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"The coins database is large and will take a while to populate, optionally you can create a second database in mysql workbench to keep the coinsdb separate to your existing archivedb."})}),"\n",(0,s.jsxs)(n.p,{children:["To populate the coins table, you can choose to specify the number of coins to update in one go by using the ",(0,s.jsx)(n.code,{children:"maxcoins"})," parameter. To update the table will all the coins, remove the ",(0,s.jsx)(n.code,{children:"maxcoins"})," parameter."]}),"\n",(0,s.jsx)(n.p,{children:"The example below adds the first 100 coins to the database. Next time, it will start from where it left off."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"From any node"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"mysqlcoins action:update maxcoins:100 host:127.0.0.1:3307 database:archivedb user:archiveuser password:youruserpassword \n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"From docker"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"mysqlcoins action:update maxcoins:100 host:minimysql database:archivedb user:archiveuser password:youruserpassword \n"})}),"\n",(0,s.jsx)(n.h2,{id:"query-the-coins-table",children:"Query the coins table"}),"\n",(0,s.jsx)(n.p,{children:"To search for all coins at an address or with the address in a state variable:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"mysqlcoins action:search address: host:minimysql database:archivedb user:archiveuser password:youruserpassword \n"})}),"\n",(0,s.jsx)(n.p,{children:"To run a WHERE query on the coins table, string data MUST be in single quotes and you can use multiple parameters."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"mysqlcoins action:search where: host:minimysql database:archivedb user:archiveuser password:youruserpassword \n"})}),"\n",(0,s.jsx)(n.p,{children:"To run a full SQL query on the coins table:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"mysqlcoins action:search query: host:minimysql database:archivedb user:archiveuser password:youruserpassword \n"})}),"\n",(0,s.jsxs)(n.p,{children:["For full help, use ",(0,s.jsx)(n.code,{children:"help command:mysqlcoins"})," or see ",(0,s.jsx)(n.a,{href:"/docs/userguides/usingyournode/terminal_commands",children:"here"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"export-the-tables-from-mysql",children:"Export the tables from MySQL"}),"\n",(0,s.jsx)(n.p,{children:"To Export the archive data from MySQL to a file:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Open MySQL workbench"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Double click on ",(0,s.jsx)(n.strong,{children:"minimaarchive"})," to open the database"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["From the ",(0,s.jsx)(n.strong,{children:"Administration"})," tab, select ",(0,s.jsx)(n.strong,{children:"Data Export"})," (also available from the Server dropdown menu)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"sql",src:r(3034).Z+"#width50",width:"537",height:"763"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsxs)(n.li,{children:["Check the box for ",(0,s.jsx)(n.strong,{children:"archivedb"})," and check the boxes for ",(0,s.jsx)(n.strong,{children:"cascadedata"})," and ",(0,s.jsx)(n.strong,{children:"syncblock"})]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"We do not recommend exporting the coins table as this will be very large."})}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsxs)(n.li,{children:["Under Export Options, select ",(0,s.jsx)(n.strong,{children:"Export to self-contained file"})," and ",(0,s.jsx)(n.strong,{children:"Include Create Schema"}),". Optionally change the file path."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"sql",src:r(1506).Z+"",width:"1206",height:"688"})}),"\n",(0,s.jsxs)(n.ol,{start:"6",children:["\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Start Export"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The exported file will be unzipped, you should zip the exported file to reduce your storage requirement."}),"\n",(0,s.jsx)(n.p,{children:"This file can be imported to MySQL if required."})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8066:(e,n,r)=>{r.d(n,{Z:()=>s});const s=r.p+"assets/images/A.AddConnection-28267dbcd83cca00260f640cbd100d2c.png"},2304:(e,n,r)=>{r.d(n,{Z:()=>s});const s=r.p+"assets/images/B.CreateConnection-a4a7509fee60ea34865902ee8f8ee960.png"},3034:(e,n,r)=>{r.d(n,{Z:()=>s});const s=r.p+"assets/images/F.AdminExportData-b57a71a8ddaa6625da8f9a8b9f7f4625.png"},1506:(e,n,r)=>{r.d(n,{Z:()=>s});const s=r.p+"assets/images/G.DataExportSelection-aa58b4a054b043286647bc89f165efe3.png"},1151:(e,n,r)=>{r.d(n,{Z:()=>t,a:()=>o});var s=r(7294);const i={},a=s.createContext(i);function o(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);