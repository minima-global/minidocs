"use strict";(self.webpackChunkminima_docs=self.webpackChunkminima_docs||[]).push([[8033],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return c}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),m=d(n),c=r,h=m["".concat(s,".").concat(c)]||m[c]||u[c]||i;return n?a.createElement(h,l(l({ref:t},p),{},{components:n})):a.createElement(h,l({ref:t},p))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var d=2;d<i;d++)l[d]=n[d];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},431:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return c},frontMatter:function(){return o},metadata:function(){return d},toc:function(){return u}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),l=["components"],o={sidebar_position:1},s="Start a Testnet",d={unversionedId:"buildonminima/txntutorial/start",id:"buildonminima/txntutorial/start",title:"Start a Testnet",description:"Here we will go through and explain how to create some basic transactions that use custom scripts. This will show how to use the Minima commands to construct, sign and post transactions. To test scripts and play with different transactions or constructions it is recommended that you use a private chain. Then none of your funds are at risk!",source:"@site/docs/buildonminima/txntutorial/start.md",sourceDirName:"buildonminima/txntutorial",slug:"/buildonminima/txntutorial/start",permalink:"/docs/buildonminima/txntutorial/start",editUrl:"https://github.com/minima-global/minidocs/docs/buildonminima/txntutorial/start.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"KISS VM",permalink:"/docs/buildonminima/contracts/kissvm"},next:{title:"Pruning",permalink:"/docs/buildonminima/txntutorial/pruning"}},p={},u=[{value:"1. Start the genesis node",id:"1-start-the-genesis-node",level:2},{value:"2. Start the second node",id:"2-start-the-second-node",level:2},{value:"Restarting the nodes",id:"restarting-the-nodes",level:2},{value:"Start up Parameters",id:"start-up-parameters",level:2},{value:"Start up parameters used",id:"start-up-parameters-used",level:4},{value:"Optional start up parameters",id:"optional-start-up-parameters",level:4},{value:"General",id:"general",level:4},{value:"Folders",id:"folders",level:4},{value:"MiniDapp System (mds)",id:"minidapp-system-mds",level:4},{value:"RPC",id:"rpc",level:4},{value:"Test nodes",id:"test-nodes",level:4},{value:"Mobile",id:"mobile",level:4},{value:"Debugging",id:"debugging",level:4},{value:"Help",id:"help",level:4}],m={toc:u};function c(e){var t=e.components,n=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"start-a-testnet"},"Start a Testnet"),(0,i.kt)("p",null,"Here we will go through and explain how to create some basic transactions that use custom scripts. This will show how to use the Minima commands to construct, sign and post transactions. To test scripts and play with different transactions or constructions it is recommended that you use a private chain. Then none of your funds are at risk!"),(0,i.kt)("p",null,"Once you start Minima in this way you will have your own private chain, you will be sent the genesis Minima with 1 billion coins to spend, and you can enter commands directly into the console. "),(0,i.kt)("p",null,"At its core, Minima is a Java application, so first make sure you have Java installed. Download from ",(0,i.kt)("a",{parentName:"p",href:"https://www.java.com/en/download/"},"here"),"."),(0,i.kt)("p",null,"You will need the latest release of the minima.jar file which can be downloaded from GitHub ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/minima-global/Minima/releases"},"here")),(0,i.kt)("p",null,"We will be using a server or desktop command line interface (CLI) to start Minima."),(0,i.kt)("h2",{id:"1-start-the-genesis-node"},"1. Start the genesis node"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Create a new folder and copy the minima.jar into that folder. We will run everything from there."),(0,i.kt)("li",{parentName:"ol"},"Copy the path to the file and from the command line, ",(0,i.kt)("inlineCode",{parentName:"li"},"cd")," into that folder"),(0,i.kt)("li",{parentName:"ol"},"Enter the following command")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Node 1:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"java -jar minima.jar -data minidata1 -basefolder minidata1 -genesis -test -nop2p -mdsenable -mdspassword [INSERT NODE1 PASSWORD]\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Replace placeholder ",(0,i.kt)("inlineCode",{parentName:"li"},"[INSERT NODE1 PASSWORD]")," with a custom password for your node 1")),(0,i.kt)("p",null,"This will start a node on the default ports of 9001-5. "),(0,i.kt)("p",null,"Check your balance with ",(0,i.kt)("inlineCode",{parentName:"p"},"balance"),"."),(0,i.kt)("h2",{id:"2-start-the-second-node"},"2. Start the second node"),(0,i.kt)("p",null,"We create a second node to test transactions between two nodes, note that we will need to:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"remove the ",(0,i.kt)("inlineCode",{parentName:"li"},"-genesis")," parameter,"),(0,i.kt)("li",{parentName:"ul"},"change the data and base folders, "),(0,i.kt)("li",{parentName:"ul"},"add the ",(0,i.kt)("inlineCode",{parentName:"li"},"-port")," parameter to start it on a different port, "),(0,i.kt)("li",{parentName:"ul"},"add the ",(0,i.kt)("inlineCode",{parentName:"li"},"-connect 127.0.0.1:9001")," parameter to connect this node to the genesis node.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Node 2:")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Open a new command line window and enter the following command")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"java -jar minima.jar -data minidata2 -basefolder minidata2 -test -nop2p -mdsenable -mdspassword [INSERT NODE2 PASSWORD] -port 10001 -connect 127.0.0.1:9001\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Replace placeholder ",(0,i.kt)("inlineCode",{parentName:"li"},"[INSERT NODE2 PASSWORD]")," with a custom password for your node 2"),(0,i.kt)("li",{parentName:"ul"},"Optionally set a port of your choice, we use 10001 here")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"You should now have two nodes up and running that are connected to eachother! ")),(0,i.kt)("h2",{id:"restarting-the-nodes"},"Restarting the nodes"),(0,i.kt)("p",null,"You can shutdown the nodes by running ",(0,i.kt)("inlineCode",{parentName:"p"},"quit")," from the command line window. "),(0,i.kt)("p",null,"To ",(0,i.kt)("strong",{parentName:"p"},"restart")," the same node from where you left off, re run the command for either node above ",(0,i.kt)("strong",{parentName:"p"},"removing the ",(0,i.kt)("inlineCode",{parentName:"strong"},"-genesis")," parameter for node 1.")),(0,i.kt)("p",null,"To ",(0,i.kt)("strong",{parentName:"p"},"delete")," the data and start a new clean nodes, re run the command for each node adding the ",(0,i.kt)("inlineCode",{parentName:"p"},"-clean")," parameter. "),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"ALL DATA WILL BE LOST AND A NEW SEED PHRASE WILL BE GENERATED.")),(0,i.kt)("h2",{id:"start-up-parameters"},"Start up Parameters"),(0,i.kt)("h4",{id:"start-up-parameters-used"},"Start up parameters used"),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Expand to see the parameters used"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-data [foldername/path]")," : the data folder where all the config files for this node are stored. Default is a hidden .minima folder under the user's home directory. If you want to specify a folder not in the user's home directory, you must use the complete path.",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-basefolder [foldername/path]")," : specify a default file creation / backup / restore folder. Default is the user's home directory. Can be the same as the data folder provided.",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-genesis")," : delete all old data and start the node from the genesis block",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-nop2p")," : Disable the automatic P2P system",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-test")," : this uses test settings which have a faster blocktime and only keep a shorter chain in memory. If you are compiling Minima yourself you can edit these to your needs.",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-mdsenable")," : start the MiniDapp system"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-mdspassword")," : set the password to login to the MiniDapp system"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-port")," : set the starting port"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-connect [ip:port]")," : Disable the automatic P2P system and create your own network by manually connecting to this list of host:port"))),(0,i.kt)("h4",{id:"optional-start-up-parameters"},"Optional start up parameters"),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Expand to see full list of start up parameters"),(0,i.kt)("p",null,"The following start up parameters can optionally be specified when starting your node. "),(0,i.kt)("p",null,"To add/remove parameters after a node has been started, you must ",(0,i.kt)("inlineCode",{parentName:"p"},"quit")," the node and restart it, adding/removing the required parameters. "),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"[]")," square brackets indicate where an input is required, ",(0,i.kt)("strong",{parentName:"p"},"the brackets should not be included.")),(0,i.kt)("h4",{id:"general"},"General"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-clean")," : CAREFUL! Clears existing data, starts a new fresh node. All coins will be lost.",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-port [port]")," : specify the initial port for Minima to use. Range used will be the specified port +4. Default is 9001-9005.",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-host [ipaddress]")," : specify the host IP",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-dbpassword [yourdbpassword]")," : Main Wallet / SQL AES password - MUST be specified on first launch. ",(0,i.kt)("strong",{parentName:"li"},"CANNOT be changed later.")," ",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-allowallip")," : Allow all IPs for Maxima / Networking. Local IPs won't be allowed otherwise.",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-archive")," : Run an Archive node - store all archive data / the cascade to allow for resyncs from this node",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-daemon")," : Run in daemon mode with no stdin input (if running Minima as a background service)",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-isclient")," : Tells the P2P System that this node can't accept incoming connections",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-server")," : Use Server settings - this node can accept incoming connections",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-desktop")," : Use Desktop settings - this node can't accept incoming connections",(0,i.kt)("br",null))),(0,i.kt)("h4",{id:"folders"},"Folders"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-data [foldername/path]")," : the data folder where all the config files for this node are stored. Default is a hidden .minima folder under the user's home directory. If you want to specify a folder not in the user's home directory, you must use the complete path. ",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-basefolder [foldername/path]")," : specify a default file creation / backup / restore folder. Default is the user's home directory. Can be the same as the ",(0,i.kt)("inlineCode",{parentName:"li"},"data")," folder provided.",(0,i.kt)("br",null))),(0,i.kt)("h4",{id:"minidapp-system-mds"},"MiniDapp System (mds)"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-mdsenable")," : enable the MiniDapp System (default port 9003)",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-mdspassword [yourmdspassword]")," : specify the mds login password ",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-mdsinit [foldername/path]")," : specify a folder of miniDAPPs",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-mdswrite [minidapp]")," : give an initial miniDAPP WRITE access ",(0,i.kt)("br",null))),(0,i.kt)("h4",{id:"rpc"},"RPC"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-rpcenable")," : enable remote procedure call",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-rpcssl")," : use Self Signed SSL cert to run RPC",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-rpcpassword [yourrpcpassword]")," : set Basic Auth password for RPC calls ( Use with SSL / stunnel ). Only secure if used with SSL.",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-rpcclrf")," : use CRLF at the end of the RPC headers (NodeJS)",(0,i.kt)("br",null))),(0,i.kt)("h4",{id:"test-nodes"},"Test nodes"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-genesis")," : delete all old data and start the node from the genesis block",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-test")," : this uses test settings which have a faster blocktime and only keep a shorter chain in memory. If you are compiling Minima yourself you can edit these to your needs.",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-connect [ip:port,ip:port]")," : Disable the automatic P2P system and create your own network by manually connecting to this list of host:port",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-nop2p")," : Disable the automatic P2P system",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-noconnect")," : Stops the P2P system from connecting to other nodes until it has been connected to",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-nosyncibd")," : Do not sync IBD (for testing)",(0,i.kt)("br",null))),(0,i.kt)("h4",{id:"mobile"},"Mobile"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-mobile")," : Sets this device to a mobile device - used for metrics only",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-limitbandwidth")," : Limit the amount sent for archive sync",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-noshutdownhook")," : Do not use the shutdown hook (Android)",(0,i.kt)("br",null))),(0,i.kt)("h4",{id:"debugging"},"Debugging"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-p2p-log-level-info")," : Set the P2P log level to info",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-p2p-log-level-debug")," : Set the P2P log level to debug")),(0,i.kt)("h4",{id:"help"},"Help"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-showparams")," : Show relevant startup params on launch",(0,i.kt)("br",null)),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"-help")," : print help for the start up parameters"))))}c.isMDXComponent=!0}}]);