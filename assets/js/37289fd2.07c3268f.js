"use strict";(self.webpackChunkminima_docs=self.webpackChunkminima_docs||[]).push([[27],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return c}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,l=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),m=p(n),c=i,k=m["".concat(s,".").concat(c)]||m[c]||u[c]||l;return n?a.createElement(k,r(r({ref:t},d),{},{components:n})):a.createElement(k,r({ref:t},d))}));function c(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=n.length,r=new Array(l);r[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:i,r[1]=o;for(var p=2;p<l;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6712:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return s},default:function(){return c},frontMatter:function(){return o},metadata:function(){return p},toc:function(){return u}});var a=n(7462),i=n(3366),l=(n(7294),n(3905)),r=["components"],o={sidebar_position:3},s="Start a Private testnet",p={unversionedId:"buildonminima/dapptutorial/startaprivatenode",id:"buildonminima/dapptutorial/startaprivatenode",title:"Start a Private testnet",description:"At its core, Minima is a Java application, so first make sure you have Java installed. Download from here.",source:"@site/docs/buildonminima/dapptutorial/startaprivatenode.md",sourceDirName:"buildonminima/dapptutorial",slug:"/buildonminima/dapptutorial/startaprivatenode",permalink:"/docs/buildonminima/dapptutorial/startaprivatenode",editUrl:"https://github.com/minima-global/minidocs/docs/buildonminima/dapptutorial/startaprivatenode.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Start",permalink:"/docs/buildonminima/dapptutorial/start"},next:{title:"MiniDapp Hub",permalink:"/docs/buildonminima/dapptutorial/accesshub"}},d={},u=[{value:"Start the genesis node",id:"start-the-genesis-node",level:2},{value:"Start the second node",id:"start-the-second-node",level:2},{value:"Start up parameters used",id:"start-up-parameters-used",level:4},{value:"Optional start up parameters",id:"optional-start-up-parameters",level:4},{value:"General",id:"general",level:4},{value:"Folders",id:"folders",level:4},{value:"MiniDapp System (mds)",id:"minidapp-system-mds",level:4},{value:"RPC",id:"rpc",level:4},{value:"Test nodes",id:"test-nodes",level:4},{value:"Mobile",id:"mobile",level:4},{value:"Debugging",id:"debugging",level:4},{value:"Help",id:"help",level:4},{value:"Restarting the nodes",id:"restarting-the-nodes",level:2},{value:"Logging in to your MiniDapp Hub",id:"logging-in-to-your-minidapp-hub",level:2}],m={toc:u};function c(e){var t=e.components,n=(0,i.Z)(e,r);return(0,l.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"start-a-private-testnet"},"Start a Private testnet"),(0,l.kt)("p",null,"At its core, Minima is a Java application, so first make sure you have Java installed. Download from ",(0,l.kt)("a",{parentName:"p",href:"https://www.java.com/en/download/"},"here"),"."),(0,l.kt)("p",null,"You will need the latest release of the minima.jar file which can be downloaded from GitHub ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/minima-global/Minima/releases"},"here")),(0,l.kt)("p",null,"We will be using a server or desktop command line interface (CLI) to start Minima."),(0,l.kt)("p",null,"For development purposes, it is useful to run one or more private test nodes stimulating network traffic. Starting the first node with ",(0,l.kt)("inlineCode",{parentName:"p"},"-genesis")," will give you 1 billion coins to test transactions with. "),(0,l.kt)("h2",{id:"start-the-genesis-node"},"Start the genesis node"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Move your minima.jar file from your Downloads folder to a new file location of your choice"),(0,l.kt)("li",{parentName:"ol"},"Copy the path to the minima.jar file, including the file name"),(0,l.kt)("li",{parentName:"ol"},"Open up your CLI and enter the following command")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Node 1:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"java -jar [path to minima.jar] -data minidata1 -basefolder minidata1 -genesis -test -nop2p -mdsenable -mdspassword [INSERT NODE1 PASSWORD]\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Replace placeholder ",(0,l.kt)("inlineCode",{parentName:"li"},"[path to minima.jar]")," with the path to the minima.jar file location"),(0,l.kt)("li",{parentName:"ul"},"Replace placeholder ",(0,l.kt)("inlineCode",{parentName:"li"},"[INSERT NODE1 PASSWORD]")," with a custom password for your node 1")),(0,l.kt)("p",null,"Example : "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"java -jar C:\\Users\\me\\Minima\\minima.jar -data minidata1 -basefolder minidata1 -genesis -test -nop2p -mdsenable -mdspassword setthispassword\n")),(0,l.kt)("p",null,"This will start a node on the default ports of 9001-5. "),(0,l.kt)("h2",{id:"start-the-second-node"},"Start the second node"),(0,l.kt)("p",null,"We create a second node to test transactions between two nodes, note that we will need to:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"change the data and base folders, "),(0,l.kt)("li",{parentName:"ul"},"add the ",(0,l.kt)("inlineCode",{parentName:"li"},"-port")," parameter to start it on a different port, "),(0,l.kt)("li",{parentName:"ul"},"add the ",(0,l.kt)("inlineCode",{parentName:"li"},"-connect 127.0.0.1:9001")," parameter to connect this node to the genesis node.")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Node 2:")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Open a new command line window and enter the following command")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"java -jar [path to minima.jar] -data minidata2 -basefolder minidata2 -genesis -test -nop2p -mdsenable -mdspassword [INSERT NODE2 PASSWORD] -port 10001 -connect 127.0.0.1:9001\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Replace placeholder ",(0,l.kt)("inlineCode",{parentName:"li"},"[path to minima.jar]")," with the path to the minima.jar file location"),(0,l.kt)("li",{parentName:"ul"},"Replace placeholder ",(0,l.kt)("inlineCode",{parentName:"li"},"[INSERT NODE2 PASSWORD]")," with a custom password for your node 2"),(0,l.kt)("li",{parentName:"ul"},"Optionally set a port of your choice, we use 10001 here")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"You should now have two nodes up and running that are connected to eachother! ")),(0,l.kt)("h4",{id:"start-up-parameters-used"},"Start up parameters used"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Expand to see the parameters used"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-data [foldername/path]")," : the data folder where all the config files for this node are stored. Default is a hidden .minima folder under the user's home directory. If you want to specify a folder not in the user's home directory, you must use the complete path.",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-basefolder [foldername/path]")," : specify a default file creation / backup / restore folder. Default is the user's home directory. Can be the same as the data folder provided.",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-genesis")," : start the node from the genesis block (automatically uses -clean)",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-nop2p")," : Disable the automatic P2P system",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-test")," : uses test parameters e.g. faster block times",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-mdsenable")," : start the MiniDapp system"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-mdspassword")," : set the password to login to the MiniDapp system"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-port")," : set the starting port"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-connect [ip:port]")," : Disable the automatic P2P system and create your own network by manually connecting to this list of host:port"))),(0,l.kt)("h4",{id:"optional-start-up-parameters"},"Optional start up parameters"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Expand to see full list of start up parameters"),(0,l.kt)("p",null,"The following start up parameters can optionally be specified when starting your node. "),(0,l.kt)("p",null,"To add/remove parameters after a node has been started, you must ",(0,l.kt)("inlineCode",{parentName:"p"},"quit")," the node and restart it, adding/removing the required parameters. "),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"[]")," square brackets indicate where an input is required, ",(0,l.kt)("strong",{parentName:"p"},"the brackets should not be included.")),(0,l.kt)("h4",{id:"general"},"General"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-clean")," : CAREFUL! Clears existing data, starts a new fresh node. All coins will be lost.",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-port [port]")," : specify the initial port for Minima to use. Range used will be the specified port +4. Default is 9001-9005.",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-host [ipaddress]")," : specify the host IP",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-dbpassword [yourdbpassword]")," : Main Wallet / SQL AES password - MUST be specified on first launch. ",(0,l.kt)("strong",{parentName:"li"},"CANNOT be changed later.")," ",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-allowallip")," : Allow all IPs for Maxima / Networking. Local IPs won't be allowed otherwise.",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-archive")," : Run an Archive node - store all archive data / the cascade to allow for resyncs from this node",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-daemon")," : Run in daemon mode with no stdin input (if running Minima as a background service)",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-isclient")," : Tells the P2P System that this node can't accept incoming connections",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-server")," : Use Server settings - this node can accept incoming connections",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-desktop")," : Use Desktop settings - this node can't accept incoming connections",(0,l.kt)("br",null))),(0,l.kt)("h4",{id:"folders"},"Folders"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-data [foldername/path]")," : the data folder where all the config files for this node are stored. Default is a hidden .minima folder under the user's home directory. If you want to specify a folder not in the user's home directory, you must use the complete path. ",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-basefolder [foldername/path]")," : specify a default file creation / backup / restore folder. Default is the user's home directory. Can be the same as the ",(0,l.kt)("inlineCode",{parentName:"li"},"data")," folder provided.",(0,l.kt)("br",null))),(0,l.kt)("h4",{id:"minidapp-system-mds"},"MiniDapp System (mds)"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-mdsenable")," : enable the MiniDapp System (default port 9003)",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-mdspassword [yourmdspassword]")," : specify the mds login password ",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-mdsinit [foldername/path]")," : specify a folder of miniDAPPs",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-mdswrite [minidapp]")," : give an initial miniDAPP WRITE access ",(0,l.kt)("br",null))),(0,l.kt)("h4",{id:"rpc"},"RPC"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-rpcenable")," : enable remote procedure call",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-rpcssl")," : use Self Signed SSL cert to run RPC",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-rpcpassword [yourrpcpassword]")," : set Basic Auth password for RPC calls ( Use with SSL / stunnel ). Only secure if used with SSL.",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-rpcclrf")," : use CRLF at the end of the RPC headers (NodeJS)",(0,l.kt)("br",null))),(0,l.kt)("h4",{id:"test-nodes"},"Test nodes"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-genesis")," : start the node from the genesis block (automatically uses -clean)",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-test")," : uses test parameters e.g. faster block times",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-connect [ip:port,ip:port]")," : Disable the automatic P2P system and create your own network by manually connecting to this list of host:port",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-nop2p")," : Disable the automatic P2P system",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-noconnect")," : Stops the P2P system from connecting to other nodes until it has been connected to",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-nosyncibd")," : Do not sync IBD (for testing)",(0,l.kt)("br",null))),(0,l.kt)("h4",{id:"mobile"},"Mobile"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-mobile")," : Sets this device to a mobile device - used for metrics only",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-limitbandwidth")," : Limit the amount sent for archive sync",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-noshutdownhook")," : Do not use the shutdown hook (Android)",(0,l.kt)("br",null))),(0,l.kt)("h4",{id:"debugging"},"Debugging"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-p2p-log-level-info")," : Set the P2P log level to info",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-p2p-log-level-debug")," : Set the P2P log level to debug")),(0,l.kt)("h4",{id:"help"},"Help"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-showparams")," : Show relevant startup params on launch",(0,l.kt)("br",null)),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-help")," : print help for the start up parameters"))),(0,l.kt)("h2",{id:"restarting-the-nodes"},"Restarting the nodes"),(0,l.kt)("p",null,"You can stop the nodes by running ",(0,l.kt)("inlineCode",{parentName:"p"},"quit")," in the command line window. "),(0,l.kt)("p",null,"To restart the same node, re run the commands for node1 or node2 above."),(0,l.kt)("p",null,"To delete the data and start new clean nodes, re run the commands for node1 or node2 above, adding the ",(0,l.kt)("inlineCode",{parentName:"p"},"-clean")," parameter. ",(0,l.kt)("strong",{parentName:"p"},"ALL DATA WILL BE LOST AND A NEW SEED PHRASE WILL BE GENERATED.")),(0,l.kt)("h2",{id:"logging-in-to-your-minidapp-hub"},"Logging in to your MiniDapp Hub"),(0,l.kt)("p",null,"Open up your web browser and navigate to the MiniDapp Hub via "),(0,l.kt)("p",null,"Node 1 - ",(0,l.kt)("a",{parentName:"p",href:"https://127.0.0.1:9003"},"https://127.0.0.1:9003")),(0,l.kt)("p",null,"Node 2 -  ",(0,l.kt)("a",{parentName:"p",href:"https://127.0.0.1:10003"},"https://127.0.0.1:10003")),(0,l.kt)("p",null,"Login with the password you set."),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Browser WARNING")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Minima uses self-signed certificates. For this reason you may be shown a security certificate warning when accessing Minima, to which you can click on ",(0,l.kt)("strong",{parentName:"p"},"Advanced"),", then ",(0,l.kt)("strong",{parentName:"p"},"Proceed"),".\nThis may be different depending on the browser and OS you are using."))))}c.isMDXComponent=!0}}]);