"use strict";(self.webpackChunkminima_docs=self.webpackChunkminima_docs||[]).push([[8450],{3905:function(t,e,n){n.d(e,{Zo:function(){return p},kt:function(){return d}});var r=n(7294);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var c=r.createContext({}),l=function(t){var e=r.useContext(c),n=e;return t&&(n="function"==typeof t?t(e):o(o({},e),t)),n},p=function(t){var e=l(t.components);return r.createElement(c.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},m=r.forwardRef((function(t,e){var n=t.components,i=t.mdxType,a=t.originalType,c=t.parentName,p=s(t,["components","mdxType","originalType","parentName"]),m=l(n),d=i,h=m["".concat(c,".").concat(d)]||m[d]||u[d]||a;return n?r.createElement(h,o(o({ref:e},p),{},{components:n})):r.createElement(h,o({ref:e},p))}));function d(t,e){var n=arguments,i=e&&e.mdxType;if("string"==typeof t||i){var a=n.length,o=new Array(a);o[0]=m;var s={};for(var c in e)hasOwnProperty.call(e,c)&&(s[c]=e[c]);s.originalType=t,s.mdxType="string"==typeof t?t:i,o[1]=s;for(var l=2;l<a;l++)o[l]=n[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5012:function(t,e,n){n.r(e),n.d(e,{assets:function(){return p},contentTitle:function(){return c},default:function(){return d},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return u}});var r=n(7462),i=n(3366),a=(n(7294),n(3905)),o=["components"],s={sidebar_position:9},c="Scripting",l={unversionedId:"learn/minima/scripting",id:"learn/minima/scripting",title:"Scripting",description:"Minima has its own, Turing Complete, scripting language for creating Smart Contracts - KISS VM.",source:"@site/docs/learn/minima/scripting.md",sourceDirName:"learn/minima",slug:"/learn/minima/scripting",permalink:"/docs/learn/minima/scripting",editUrl:"https://github.com/minima-global/minidocs/docs/learn/minima/scripting.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_position:9},sidebar:"tutorialSidebar",previous:{title:"Keys and Digital Signatures",permalink:"/docs/learn/minima/keysandsignatures"},next:{title:"Quantum Security",permalink:"/docs/learn/minima/quantumsecurity"}},p={},u=[{value:"Types of contracts",id:"types-of-contracts",level:2},{value:"Token Scripts",id:"token-scripts",level:2}],m={toc:u};function d(t){var e=t.components,n=(0,i.Z)(t,o);return(0,a.kt)("wrapper",(0,r.Z)({},m,n,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"scripting"},"Scripting"),(0,a.kt)("p",null,"Minima has its own, Turing Complete, scripting language for creating Smart Contracts - ",(0,a.kt)("strong",{parentName:"p"},"KISS VM"),". "),(0,a.kt)("p",null,"Minima, like Bitcoin, uses the ",(0,a.kt)("a",{parentName:"p",href:"/docs/learn/minima/coreconcepts#utxo-model"},"UTxO model")," so writing smart contracts on Minima is quite different to writing them on an Account based model like Ethereum. "),(0,a.kt)("p",null,"Every UTxO (coin) is associated with a Minima script i.e. contract which can either return ",(0,a.kt)("strong",{parentName:"p"},"TRUE")," or ",(0,a.kt)("strong",{parentName:"p"},"FALSE")," when used in a transaction. The default is return FALSE, so all scripts must explicitly return TRUE for the transaction to be valid."),(0,a.kt)("p",null,"A ",(0,a.kt)("strong",{parentName:"p"},"\u2018contract\u2019")," is the script that locks the funds in a coin and is interchangeable with the word script."),(0,a.kt)("p",null,"The default script for a coin is "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"RETURN SIGNEDBY(0xFFEE67F7C..)\n")),(0,a.kt)("p",null,"where ",(0,a.kt)("inlineCode",{parentName:"p"},"0xFFEE67F7C..")," is the public key of the owner of the coin."),(0,a.kt)("p",null,"This default script will only return TRUE when a transaction attempting to spend this coin has been signed by the coin's owner."),(0,a.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"good to know")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"The KISS VM scripting language supports SHA2-256 to allow cross-chain hash lock contracts with legacy chains."),(0,a.kt)("p",{parentName:"div"},"Contracts are inherently compatible with Layer 2. "))),(0,a.kt)("p",null,"The addition of the ",(0,a.kt)("strong",{parentName:"p"},"state variables")," in the MMR Proof DB, allow for complex scripts with knowledge of their past to be created. Minima uses a simple state mechanic for transactional history rather than a global state for ALL transactions."),(0,a.kt)("p",null,"Each user tracks the coins to an address they possess and all coins that have a public key or address they possess in the STATE or PREVSTATE."),(0,a.kt)("h2",{id:"types-of-contracts"},"Types of contracts"),(0,a.kt)("p",null,"Some of the types of contracts possible:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Basic Signed "),(0,a.kt)("li",{parentName:"ul"},"Time Lock "),(0,a.kt)("li",{parentName:"ul"},"Multi-sig "),(0,a.kt)("li",{parentName:"ul"},"Complex multi-sig "),(0,a.kt)("li",{parentName:"ul"},"M of N multi-sig "),(0,a.kt)("li",{parentName:"ul"},"Hashed Time Lock (including cross-chain)"),(0,a.kt)("li",{parentName:"ul"},"Exchange"),(0,a.kt)("li",{parentName:"ul"},"FlashCash"),(0,a.kt)("li",{parentName:"ul"},"MAST ")),(0,a.kt)("h2",{id:"token-scripts"},"Token Scripts"),(0,a.kt)("p",null,"Each token has a separate script that must also return TRUE when attempting to spend a UTxO. "),(0,a.kt)("p",null,"A token by default has RETURN TRUE as its script. This token structure is added to any transaction wishing to use that token so every user can know how many, what scripts, name etc of the Token is correct and valid."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Both the coin address script and the token script must return TRUE.")),(0,a.kt)("p",null,"For details about the KISS VM scripting language, see the ",(0,a.kt)("a",{parentName:"p",href:"/docs/buildonminima/contracts/scriptbasics"},"Build")," section."))}d.isMDXComponent=!0}}]);